<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SookKai - ‡∏™‡∏∏‡∏Ç‡∏Å‡∏≤‡∏¢</title>
    <style>
        :root {
            --primary: #2d6a4f;
            --accent: #d08c60;
            --bg: #f1f8f5;
            --card: #FFFFFF;
            --success: #40916c;
            --info: #52b788;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Kanit', sans-serif;
            background-color: var(--bg); margin: 0; padding: 0; color: #1b4332;
            display: flex; justify-content: center; min-height: 100vh;
        }
        .app-container {
            width: 100%; max-width: 480px; background: var(--card);
            min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.05);
            display: flex; flex-direction: column; position: relative;
        }

        /* --- 1. SPLASH SCREEN (‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î) --- */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #2d6a4f, #1b4332);
            z-index: 3000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; transition: opacity 0.5s ease;
        }
        /* ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡∏î‡πâ‡∏ß‡∏¢ CSS/SVG ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ */
        .leaf-icon {
            width: 100px; height: 100px; fill: white;
            animation: float 3s ease-in-out infinite;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
        }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }

        /* --- 2. INTRO SCREEN (‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å) --- */
        #intro-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.92);
            z-index: 2000;
            display: none; /* ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô */
            flex-direction: column; justify-content: center; align-items: center;
            padding: 10px; box-sizing: border-box;
            transition: opacity 0.5s ease;
        }
        .intro-container {
            width: 100%; max-width: 400px; text-align: center;
        }
        .intro-img {
            width: 100%; height: auto; border-radius: 10px;
            box-shadow: 0 0 20px rgba(255,255,255,0.1);
            margin-bottom: 20px;
            border: 2px solid #555;
        }
        .start-btn {
            background: var(--primary); color: white; border: none;
            padding: 15px 40px; font-size: 1.2rem; border-radius: 50px;
            cursor: pointer; font-weight: bold;
            box-shadow: 0 0 15px rgba(45, 106, 79, 0.5);
            animation: pulse-btn 2s infinite;
        }
        @keyframes pulse-btn { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* --- Main App Styles --- */
        header {
            padding: 25px 20px; text-align: center; 
            background: linear-gradient(135deg, #2d6a4f, #40916c); color: white;
            border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;
            box-shadow: 0 4px 15px rgba(45, 106, 79, 0.2); position: relative; z-index: 2;
        }
        h1 { margin: 0; font-size: 1.8rem; letter-spacing: 1px; }
        .music-toggle {
            position: absolute; top: 20px; right: 20px;
            background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.4);
            padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; cursor: pointer;
            backdrop-filter: blur(5px);
        }
        .tracking-bar {
            background: white; margin: 20px; padding: 15px 20px; border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03); display: flex; justify-content: space-between; align-items: center;
            border: 1px solid #e8f5e9;
        }
        .streak-count { font-size: 1.2rem; font-weight: bold; color: var(--success); }
        .streak-label { font-size: 0.8rem; color: #888; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 20px; }
        .menu-btn {
            background: white; border: 1px solid #e8f5e9; border-radius: 18px; padding: 20px;
            text-align: center; cursor: pointer; transition: all 0.2s ease; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .menu-btn:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: 0 8px 15px rgba(45, 106, 79, 0.1); }
        .menu-btn span { font-size: 2.2rem; margin-bottom: 8px; }
        .menu-btn h3 { font-weight: 500; color: #2d6a4f; margin: 0; font-size: 1rem; }
        .screen { flex: 1; display: none; flex-direction: column; }
        .screen.active { display: flex; }
        .top-bar { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .btn-exit {
            background: #fff5f5; border: 1px solid #ffcccc; color: #e74c3c;
            padding: 8px 16px; border-radius: 10px; font-weight: bold; font-size: 0.95rem; cursor: pointer;
        }
        .symptom-header {
            background: #e8f5e9; color: var(--primary); padding: 8px 15px;
            border-radius: 20px; font-size: 0.9rem; font-weight: bold; margin-bottom: 15px;
            display: inline-block; align-self: center;
        }
        .content-area { padding: 0 25px; flex: 1; display: flex; flex-direction: column; align-items: center; }
        .point-image {
            width: 100%; height: 220px; background-color: white; border-radius: 20px;
            margin-bottom: 20px; display: flex; align-items: center; justify-content: center;
            overflow: hidden; border: 1px solid #e8f5e9; box-shadow: inset 0 0 10px rgba(0,0,0,0.02);
        }
        .point-image img { width: 100%; height: 100%; object-fit: contain; }
        .instruction-box {
            background: white; padding: 20px; border-radius: 15px; width: 100%; box-sizing: border-box;
            margin-bottom: 15px; font-size: 0.95rem; line-height: 1.6;
            border-left: 5px solid var(--accent); box-shadow: 0 4px 10px rgba(0,0,0,0.02);
        }
        .timer-box { font-size: 3.5rem; font-weight: 800; color: var(--primary); margin: 10px 0; font-variant-numeric: tabular-nums; }
        .action-area { padding: 25px; margin-top: auto; display: flex; flex-direction: column; gap: 12px; }
        .row-btns { display: flex; gap: 12px; }
        .btn { padding: 16px; border: none; border-radius: 14px; font-size: 1rem; font-weight: 600; cursor: pointer; flex: 1; transition: 0.2s; }
        .btn-info { background: #e8f5e9; color: var(--primary); border: 1px solid var(--primary); }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(45, 106, 79, 0.3); }
        .btn-secondary { background: #f1f3f5; color: #495057; }
        .btn-success { background: var(--success); color: white; }
        .speaking-anim { animation: pulse 1.5s infinite; background: #d3f9d8; }
        
        /* Modal */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
        }
        .modal-content {
            background: white; width: 85%; max-width: 320px; padding: 30px;
            border-radius: 25px; text-align: center;
        }
    </style>
</head>
<body>

<div id="splash-screen">
    <svg class="leaf-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M17,8C8,10,5.9,16.17,3.82,21.34L5.71,22l1-2.3A4.49,4.49,0,0,0,8,20C19,20,22,3,22,3,21,5,14,5.25,9,6.25S2,11.5,2,13.5a6.22,6.22,0,0,0,1.75,3.75C7,8,17,8,17,8Z"/>
    </svg>
    <h1 style="font-size: 2.8rem; margin-bottom: 5px;">SookKai</h1>
    <p style="opacity: 0.9; font-size: 1.1rem;">‡∏™‡∏∏‡∏Ç‡∏Å‡∏≤‡∏¢... ‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏±‡∏ß</p>
</div>

<div id="intro-screen" onclick="enterApp()">
    <div class="intro-container">
        <img src="intro.png" class="intro-img" alt="‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ 3 ‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å" 
             onerror="this.src='https://placehold.co/600x400?text=3+Rules+Image+Error';">
        
        <br>
        <button class="start-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
        <p style="color:#ccc; margin-top:10px; font-size:0.9rem;">(‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°)</p>
    </div>
</div>

<audio id="bg-music" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
    <source src="https://archive.org/download/awaken_202001/Awaken.mp3" type="audio/mpeg">
</audio>

<div class="app-container">
    <header>
        <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
             <svg style="width:24px; height:24px; fill:white;" viewBox="0 0 24 24"><path d="M17,8C8,10,5.9,16.17,3.82,21.34L5.71,22l1-2.3A4.49,4.49,0,0,0,8,20C19,20,22,3,22,3,21,5,14,5.25,9,6.25S2,11.5,2,13.5a6.22,6.22,0,0,0,1.75,3.75C7,8,17,8,17,8Z"/></svg>
             <h1>SookKai</h1>
        </div>
        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 5px;">‡∏™‡∏∏‡∏Ç‡∏Å‡∏≤‡∏¢... ‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏±‡∏ß</p>
        <button class="music-toggle" onclick="toggleMusic()" id="music-btn">üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á</button>
    </header>

    <div id="home-screen" class="screen active">
        <div class="tracking-bar">
            <div>
                <div class="streak-label">‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á</div>
                <div class="streak-count" id="streak-display">0 ‡∏ß‡∏±‡∏ô üåø</div>
            </div>
            <div style="text-align:right;">
                <div class="streak-label">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                <div id="today-status">‚ö™ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥</div>
            </div>
        </div>
        <div style="padding: 0 25px; margin-bottom: 15px; color:#2d6a4f; font-weight:600;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô:</div>
        <div class="menu-grid" id="symptom-list"></div>
    </div>

    <div id="session-screen" class="screen">
        <div class="top-bar">
            <button onclick="confirmExit()" class="btn-exit">‚úï ‡∏≠‡∏≠‡∏Å</button>
            <span id="step-indicator" style="color:#888; font-size:0.9rem;">Step 1/3</span>
        </div>
        
        <div class="content-area">
            <div id="current-symptom-display" class="symptom-header">...</div>

            <h2 id="point-name" style="margin: 0 0 10px; font-size: 1.4rem; text-align:center; color: var(--primary);">‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏∏‡∏î</h2>
            <div class="point-image" id="point-img-container"></div>
            <div class="instruction-box">
                <div style="font-weight:bold; color:var(--primary); margin-bottom:5px;">‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏ß‡∏î:</div>
                <span id="technique-text" style="color:#444;">...</span>
                <div id="caution-box" style="margin-top:10px; color:#c0392b; font-weight:bold; background:#fff5f5; padding:8px; border-radius:8px; display:none; font-size:0.9rem;"></div>
            </div>
            <div class="timer-box" id="timer">00:00</div>
        </div>
        
        <div class="action-area">
            <button class="btn btn-info" onclick="playInstruction()" id="listen-btn">üó£Ô∏è ‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</button>
            <div class="row-btns">
                <button class="btn btn-primary" onclick="toggleTimer()" id="timer-btn">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏ß‡∏î</button>
                <button class="btn btn-secondary" onclick="nextPoint()" id="next-btn">‡∏Ç‡πâ‡∏≤‡∏° ‚ùØ</button>
            </div>
        </div>
    </div>
</div>

<script>
    // --- Splash & Intro Logic ---
    window.onload = function() {
        // 1. ‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏ô‡πâ‡∏≤ Splash 2.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡∏î‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Intro
        setTimeout(() => {
            const splash = document.getElementById('splash-screen');
            splash.style.opacity = '0';
            setTimeout(() => {
                splash.style.display = 'none';
                // ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Intro
                document.getElementById('intro-screen').style.display = 'flex';
            }, 500);
        }, 2500);

        // ‡πÇ‡∏´‡∏•‡∏î Tracking Data
        loadTracking();
        initApp();
    };

    function enterApp() {
        const intro = document.getElementById('intro-screen');
        intro.style.opacity = '0';
        setTimeout(() => {
            intro.style.display = 'none';
        }, 500);
    }

    // --- Database (11 ‡∏à‡∏∏‡∏î) ---
    const database = [
        { id: "GV20", name: "‡∏à‡∏∏‡∏î‡πÑ‡∏õ‡πà‡∏´‡∏∏‡πâ‡∏¢ (‡∏Å‡∏•‡∏≤‡∏á‡∏®‡∏µ‡∏£‡∏©‡∏∞)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß"], duration: 60, caution: "‡∏Å‡∏î‡πÄ‡∏ö‡∏≤‡πÜ", technique: "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏î‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ ‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏´‡∏°‡πà‡∏≠‡∏°", script: "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≠‡∏î‡∏´‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏á ‡∏•‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ö‡∏£‡∏£‡∏à‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏®‡∏µ‡∏£‡∏©‡∏∞... ‡∏ô‡∏±‡πà‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÑ‡∏õ‡πà‡∏´‡∏∏‡πâ‡∏¢... ‡∏Å‡∏î‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡∏™‡∏°‡∏≠‡∏á..." },
        { id: "ANMIAN_L", name: "‡∏à‡∏∏‡∏î‡∏≠‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ô (‡∏´‡∏•‡∏±‡∏á‡∏´‡∏π‡∏ã‡πâ‡∏≤‡∏¢)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡∏´‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏¥‡∏ó"], duration: 60, caution: "-", technique: "‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏¢‡∏ö‡∏∏‡πã‡∏°‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ö‡∏´‡∏π ‡∏ï‡∏£‡∏á‡∏ê‡∏≤‡∏ô‡∏Å‡∏∞‡πÇ‡∏´‡∏•‡∏Å", script: "‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡∏Ñ‡∏•‡∏≥‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ö‡∏∏‡πã‡∏°‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ö‡∏´‡∏π‡∏ã‡πâ‡∏≤‡∏¢... ‡∏Å‡∏î‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏´‡∏•‡∏±‡∏ö‡∏™‡∏ö‡∏≤‡∏¢..." },
        { id: "ANMIAN_R", name: "‡∏à‡∏∏‡∏î‡∏≠‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ô (‡∏´‡∏•‡∏±‡∏á‡∏´‡∏π‡∏Ç‡∏ß‡∏≤)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡∏´‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏¥‡∏ó"], duration: 60, caution: "-", technique: "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á: ‡∏Å‡∏î‡∏£‡∏≠‡∏¢‡∏ö‡∏∏‡πã‡∏°‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ö‡∏´‡∏π‡∏Ç‡∏ß‡∏≤", script: "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö... ‡∏ó‡∏≥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ö‡∏´‡∏π‡∏Ç‡∏ß‡∏≤... ‡∏Å‡∏î‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡∏•‡∏á..." },
        { id: "HT7_L", name: "‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏¥‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡πÉ‡∏à‡∏™‡∏±‡πà‡∏ô"], duration: 60, caution: "-", technique: "‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏¢‡∏û‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠ ‡∏ù‡∏±‡πà‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢", script: "‡∏´‡∏á‡∏≤‡∏¢‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏´‡∏±‡∏ß‡πÅ‡∏°‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏î‡∏•‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏£‡πà‡∏≠‡∏á‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ù‡∏±‡πà‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢... ‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏™‡∏á‡∏ö‡∏•‡∏á..." },
        { id: "HT7_R", name: "‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏¥‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡∏Ç‡∏ß‡∏≤)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡πÉ‡∏à‡∏™‡∏±‡πà‡∏ô"], duration: 60, caution: "-", technique: "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á: ‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏¢‡∏û‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡∏Ç‡∏ß‡∏≤ ‡∏ù‡∏±‡πà‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢", script: "‡∏™‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡∏Ç‡∏ß‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö... ‡∏Å‡∏î‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏ù‡∏±‡πà‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢... ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∂‡∏Å‡πÜ... ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô..." },

        { id: "LI4_L", name: "1. ‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏≠‡∏Å‡∏π‡πà (‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡∏õ‡∏ß‡∏î‡∏ü‡∏±‡∏ô"], duration: 60, caution: "‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î", technique: "‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß‡∏ã‡πâ‡∏≤‡∏¢ ‡∏î‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ ‡πÉ‡∏´‡πâ‡∏ï‡∏∑‡πâ‡∏≠‡πÜ", script: "‡∏¢‡∏Å‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏Ç‡∏ß‡∏≤‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß... ‡∏î‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ... ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏≠‡∏≠‡∏Å‡∏¢‡∏≤‡∏ß‡πÜ..." },
        { id: "LI4_R", name: "2. ‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏≠‡∏Å‡∏π‡πà (‡∏°‡∏∑‡∏≠‡∏Ç‡∏ß‡∏≤)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡∏õ‡∏ß‡∏î‡∏ü‡∏±‡∏ô"], duration: 60, caution: "‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î", technique: "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á: ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß‡∏Ç‡∏ß‡∏≤ ‡∏î‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å", script: "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß‡∏Ç‡∏ß‡∏≤... ‡∏î‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å... ‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡∏´‡∏±‡∏ß‡πÑ‡∏´‡∏•‡πà..." },
        { id: "GB20", name: "3. ‡∏à‡∏∏‡∏î‡πÄ‡∏ü‡∏¥‡∏á‡∏â‡∏∑‡∏≠ (‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏≠‡∏¢)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß", "‡∏õ‡∏ß‡∏î‡∏Ñ‡∏≠", "‡πÑ‡∏°‡πÄ‡∏Å‡∏£‡∏ô"], duration: 60, caution: "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏Ñ‡∏≠", technique: "‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏Å‡∏î‡πÉ‡∏ï‡πâ‡∏Å‡∏∞‡πÇ‡∏´‡∏•‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡∏á‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ï‡∏≤", script: "‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏≠‡∏¢... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡∏Å‡∏î‡∏£‡∏≠‡∏¢‡∏ö‡∏∏‡πã‡∏°‡πÉ‡∏ï‡πâ‡∏Å‡∏∞‡πÇ‡∏´‡∏•‡∏Å... ‡∏á‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏î‡∏ß‡∏á‡∏ï‡∏≤... ‡πÉ‡∏´‡πâ‡πÇ‡∏•‡πà‡∏á‡∏™‡∏ö‡∏≤‡∏¢..." },
        { id: "GB21", name: "1. ‡∏à‡∏∏‡∏î‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏à‡∏¥‡πà‡∏á (‡∏ö‡πà‡∏≤)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏Ñ‡∏≠", "‡∏õ‡∏ß‡∏î‡πÑ‡∏´‡∏•‡πà", "‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®‡∏ã‡∏¥‡∏ô‡πÇ‡∏î‡∏£‡∏°"], duration: 45, caution: "‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î", technique: "‡∏ö‡∏µ‡∏ö‡∏¢‡∏Å‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ö‡πà‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ", script: "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏ö‡∏µ‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏ö‡πà‡∏≤... ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î... ‡∏ö‡∏µ‡∏ö‡πÅ‡∏•‡∏∞‡∏¢‡∏Å‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤... ‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ..." },
        { id: "EX-HN3", name: "‡∏à‡∏∏‡∏î‡∏≠‡∏¥‡πâ‡∏ô‡∏ñ‡∏≤‡∏á (‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏¥‡πâ‡∏ß)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î"], duration: 90, caution: "‡∏Å‡∏î‡πÄ‡∏ö‡∏≤‡πÜ", technique: "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡∏•‡∏π‡∏ö‡∏à‡∏≤‡∏Å‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏¥‡πâ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏≤‡∏Å", script: "‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡∏•‡∏á... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ï‡∏∞‡πÄ‡∏ö‡∏≤‡πÜ ‡∏ó‡∏µ‡πà‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏¥‡πâ‡∏ß... ‡∏•‡∏π‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏≤‡∏Å‡∏ä‡πâ‡∏≤‡πÜ... ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î..." },
        { id: "LR3", name: "‡∏à‡∏∏‡∏î‡πÑ‡∏ó‡πà‡∏ä‡∏á (‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ó‡πâ‡∏≤)", symptoms: ["‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î", "‡∏î‡∏µ‡∏ó‡πá‡∏≠‡∏Å‡∏ã‡πå‡∏ï‡∏±‡∏ö"], duration: 60, caution: "-", technique: "‡∏Å‡∏î‡∏£‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ä‡∏µ‡πâ‡πÄ‡∏ó‡πâ‡∏≤ ‡πÑ‡∏•‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏à‡∏ô‡∏ï‡∏¥‡∏î‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å", script: "‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ó‡πâ‡∏≤... ‡πÑ‡∏•‡πà‡∏ô‡∏¥‡πâ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏á‡πà‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á... ‡∏à‡∏ô‡∏ä‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å... ‡∏Å‡∏î‡∏•‡∏á‡πÑ‡∏õ... ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢..." },
        { id: "BL40", name: "‡∏à‡∏∏‡∏î‡πÄ‡∏´‡∏ß‡πà‡∏¢‡∏à‡∏á (‡∏û‡∏±‡∏ö‡πÄ‡∏Ç‡πà‡∏≤)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏á", "‡∏õ‡∏ß‡∏î‡πÄ‡∏≠‡∏ß"], duration: 60, caution: "-", technique: "‡∏Å‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏û‡∏±‡∏ö‡πÄ‡∏Ç‡πà‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á", script: "‡∏á‡∏≠‡πÄ‡∏Ç‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢... ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏û‡∏±‡∏ö‡πÄ‡∏Ç‡πà‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á... ‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏≠‡∏ß..." },
        { id: "PC6", name: "‡∏à‡∏∏‡∏î‡πÄ‡∏ô‡πà‡∏¢-‡∏Å‡∏ß‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡πÉ‡∏ô)", symptoms: ["‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏™‡πâ", "‡πÄ‡∏°‡∏≤‡∏£‡∏ñ", "‡∏Å‡∏£‡∏î‡πÑ‡∏´‡∏•‡∏¢‡πâ‡∏≠‡∏ô", "‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö"], duration: 120, caution: "-", technique: "‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏≠‡∏¢‡∏û‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠ 3 ‡∏ô‡∏¥‡πâ‡∏ß ‡∏Å‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏≠‡πá‡∏ô", script: "‡∏ß‡∏≤‡∏á 3 ‡∏ô‡∏¥‡πâ‡∏ß‡∏ó‡∏≤‡∏ö‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠... ‡∏Å‡∏î‡∏•‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏≠‡πá‡∏ô... ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∂‡∏Å‡πÜ..." },
        { id: "ST36", name: "‡∏à‡∏∏‡∏î‡∏à‡∏π‡πã‡∏ã‡∏≤‡∏ô‡∏´‡∏•‡∏µ‡πà (‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡πâ‡∏á)", symptoms: ["‡∏ó‡πâ‡∏≠‡∏á‡∏≠‡∏∑‡∏î", "‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏•‡∏µ‡∏¢", "‡∏õ‡∏ß‡∏î‡πÄ‡∏Ç‡πà‡∏≤"], duration: 60, caution: "-", technique: "‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡πà‡∏≤ 4 ‡∏ô‡∏¥‡πâ‡∏ß ‡πÄ‡∏¢‡∏∑‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å", script: "‡∏ß‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≤‡∏ö‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÄ‡∏Ç‡πà‡∏≤... ‡∏à‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏Å‡πâ‡∏≠‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏ô‡∏≠‡∏Å... ‡∏Å‡∏î‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏£‡∏á‡πÜ... ‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢..." },
        { id: "SP6", name: "‡∏à‡∏∏‡∏î‡∏ã‡∏≤‡∏ô‡∏¢‡∏¥‡∏ô‡πÄ‡∏à‡∏µ‡∏¢‡∏ß (‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πâ‡∏≤)", symptoms: ["‡∏õ‡∏ß‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "‡∏ö‡∏ß‡∏°‡∏ô‡πâ‡∏≥"], duration: 60, caution: "‡∏Ñ‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î", technique: "‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ï‡∏≤‡∏ï‡∏∏‡πà‡∏°‡πÉ‡∏ô 4 ‡∏ô‡∏¥‡πâ‡∏ß ‡∏ä‡∏¥‡∏î‡∏Ç‡∏≠‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å", script: "‡∏ß‡∏≤‡∏á 4 ‡∏ô‡∏¥‡πâ‡∏ß‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ï‡∏≤‡∏ï‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô... ‡∏Å‡∏î‡∏ä‡∏¥‡∏î‡∏Ç‡∏≠‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡πâ‡∏á... ‡∏Ñ‡∏•‡∏∂‡∏á‡πÄ‡∏ö‡∏≤‡πÜ... ‡∏•‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏ß‡∏î‡πÄ‡∏Å‡∏£‡πá‡∏á..." },
        { id: "LI20", name: "‡∏à‡∏∏‡∏î‡∏≠‡∏¥‡πã‡∏á‡πÄ‡∏ã‡∏µ‡∏¢‡∏á (‡∏Ç‡πâ‡∏≤‡∏á‡∏à‡∏°‡∏π‡∏Å)", symptoms: ["‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏û‡πâ", "‡∏Ñ‡∏±‡∏î‡∏à‡∏°‡∏π‡∏Å"], duration: 45, caution: "-", technique: "‡∏Å‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏õ‡∏µ‡∏Å‡∏à‡∏°‡∏π‡∏Å‡πÄ‡∏£‡πá‡∏ß‡πÜ", script: "‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏õ‡∏µ‡∏Å‡∏à‡∏°‡∏π‡∏Å... ‡∏Å‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡πÄ‡∏£‡πá‡∏ß‡πÜ... ‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏∏‡πà‡∏ô‡∏£‡πâ‡∏≠‡∏ô... ‡∏à‡∏°‡∏π‡∏Å‡∏à‡∏∞‡πÇ‡∏•‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô..." }
    ];

    // --- Core Logic ---
    let currentQueue = [];
    let currentIndex = 0;
    let timerInterval = null;
    let timeLeft = 0;
    let isMusicPlaying = false;
    let isTimerRunning = false;
    let synth = null;
    let voices = [];

    // Init Speech
    try {
        if ('speechSynthesis' in window) {
            synth = window.speechSynthesis;
            const loadVoices = () => { voices = synth.getVoices(); };
            loadVoices();
            if (synth.onvoiceschanged !== undefined) synth.onvoiceschanged = loadVoices;
        }
    } catch (e) { console.log("Speech not supported"); }

    const audio = document.getElementById('bg-music');
    audio.volume = 0.4;
    audio.onerror = function() {
        console.log("Audio Load Error - Silent Fail");
        document.getElementById('music-btn').innerText = "üîï ‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ";
    };

    function loadTracking() {
        try {
            const lastDate = localStorage.getItem('lastDate');
            let streak = parseInt(localStorage.getItem('streak') || '0');
            const today = new Date().toDateString();
            if (lastDate === today) {
                document.getElementById('today-status').innerHTML = "üü¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢";
                document.getElementById('today-status').style.color = "var(--success)";
            }
            document.getElementById('streak-display').innerText = `${streak} ‡∏ß‡∏±‡∏ô üåø`;
        } catch (e) {}
    }

    function completeTracking() {
        try {
            const today = new Date().toDateString();
            const lastDate = localStorage.getItem('lastDate');
            let streak = parseInt(localStorage.getItem('streak') || '0');
            if (lastDate !== today) {
                streak++;
                localStorage.setItem('streak', streak);
                localStorage.setItem('lastDate', today);
                document.getElementById('today-status').innerHTML = "üü¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢";
                document.getElementById('today-status').style.color = "var(--success)";
                document.getElementById('streak-display').innerText = `${streak} ‡∏ß‡∏±‡∏ô üåø`;
            }
        } catch (e) {}
    }

    function initApp() {
        const symptomSet = new Set();
        database.forEach(p => p.symptoms.forEach(s => symptomSet.add(s)));
        const container = document.getElementById('symptom-list');
        const priority = ["‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß", "‡∏õ‡∏ß‡∏î‡∏Ñ‡∏≠", "‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®‡∏ã‡∏¥‡∏ô‡πÇ‡∏î‡∏£‡∏°", "‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö", "‡∏õ‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏á", "‡∏õ‡∏ß‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"];
        const sortedSymptoms = Array.from(symptomSet).sort((a, b) => {
            const idxA = priority.indexOf(a); const idxB = priority.indexOf(b);
            if (idxA !== -1 && idxB !== -1) return idxA - idxB;
            if (idxA !== -1) return -1; if (idxB !== -1) return 1;
            return a.localeCompare(b);
        });
        const icons = { 
            "‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß": "ü§Ø", "‡∏õ‡∏ß‡∏î‡∏Ñ‡∏≠": "ü¶í", "‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®‡∏ã‡∏¥‡∏ô‡πÇ‡∏î‡∏£‡∏°": "üíª", 
            "‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏•‡∏±‡∏ö": "üò¥", "‡∏õ‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏á": "ü™µ", "‡∏õ‡∏ß‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô": "ü©∏",
            "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î": "üò´", "‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏™‡πâ": "ü§¢", "‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏û‡πâ": "ü§ß" 
        };
        sortedSymptoms.forEach(symptom => {
            const btn = document.createElement('div');
            btn.className = 'menu-btn';
            btn.innerHTML = `<span>${icons[symptom] || 'üíä'}</span><h3>${symptom}</h3>`;
            btn.onclick = () => startSession(symptom);
            container.appendChild(btn);
        });
    }

    function startSession(symptom) {
        currentQueue = database.filter(p => p.symptoms.includes(symptom));
        if(currentQueue.length === 0) return;
        currentIndex = 0;
        document.getElementById('home-screen').classList.remove('active');
        document.getElementById('session-screen').classList.add('active');
        document.getElementById('current-symptom-display').innerText = `‡∏≠‡∏≤‡∏Å‡∏≤‡∏£: ${symptom}`;
        loadPoint(currentIndex);
    }

    function loadPoint(index) {
        clearInterval(timerInterval);
        isTimerRunning = false;
        if(synth) synth.cancel();

        const point = currentQueue[index];
        document.getElementById('point-name').innerText = point.name;
        document.getElementById('technique-text').innerText = point.technique;
        
        const cautionBox = document.getElementById('caution-box');
        if (point.caution && point.caution !== "-") {
            cautionBox.innerText = "‚ö†Ô∏è " + point.caution;
            cautionBox.style.display = "block";
        } else { cautionBox.style.display = "none"; }

        document.getElementById('step-indicator').innerText = `Step ${index + 1}/${currentQueue.length}`;
        const imgName = point.id.split('_')[0];
        // ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏π‡∏õ (JPG -> PNG -> Placeholder)
        document.getElementById('point-img-container').innerHTML = `
            <img src="${imgName}.png" 
                 style="width:100%; height:100%; object-fit:contain;"
                 onerror="if (this.src.endsWith('.png')) { this.src='${imgName}.png'; } else { this.src='https://placehold.co/400x300?text=No+Image'; }">
        `;

        document.getElementById('listen-btn').innerText = "üó£Ô∏è ‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥";
        document.getElementById('listen-btn').classList.remove('speaking-anim');
        document.getElementById('timer-btn').innerText = "‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏ß‡∏î";
        document.getElementById('timer-btn').className = "btn btn-primary";
        document.getElementById('timer-btn').disabled = false;

        const nextBtn = document.getElementById('next-btn');
        if (index === currentQueue.length - 1) {
            nextBtn.innerText = "‚úÖ ‡∏à‡∏ö (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•)";
            nextBtn.className = "btn btn-success";
        } else {
            nextBtn.innerText = "‡∏Ç‡πâ‡∏≤‡∏° ‚ùØ";
            nextBtn.className = "btn btn-secondary";
        }
        timeLeft = point.duration;
        updateTimerDisplay();
    }

    function playInstruction() {
        if (!synth) { alert("‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î"); return; }
        if (synth.speaking) {
            synth.cancel();
            document.getElementById('listen-btn').classList.remove('speaking-anim');
            document.getElementById('listen-btn').innerText = "üó£Ô∏è ‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥";
            return;
        }
        const point = currentQueue[currentIndex];
        const utterance = new SpeechSynthesisUtterance(point.script);
        const thaiVoice = voices.find(v => v.lang.includes('th'));
        if (thaiVoice) utterance.voice = thaiVoice;
        utterance.lang = 'th-TH'; utterance.rate = 1.0;
        utterance.onstart = () => {
            document.getElementById('listen-btn').classList.add('speaking-anim');
            document.getElementById('listen-btn').innerText = "üîä ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏π‡∏î...";
        };
        utterance.onend = () => {
            document.getElementById('listen-btn').classList.remove('speaking-anim');
            document.getElementById('listen-btn').innerText = "üó£Ô∏è ‡∏ü‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
        };
        synth.speak(utterance);
    }

    function toggleTimer() {
        if(synth) synth.cancel(); 
        document.getElementById('listen-btn').classList.remove('speaking-anim');
        document.getElementById('listen-btn').innerText = "üó£Ô∏è ‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥";

        const btn = document.getElementById('timer-btn');
        if (!isTimerRunning) {
            isTimerRunning = true;
            btn.innerText = "‚è∏ ‡∏û‡∏±‡∏Å"; btn.className = "btn btn-info";
            
            if(isMusicPlaying) {
                document.getElementById('bg-music').play().catch(() => {});
            }
            
            timerInterval = setInterval(() => {
                if (timeLeft > 0) { timeLeft--; updateTimerDisplay(); } else { finishStep(); }
            }, 1000);
        } else {
            isTimerRunning = false;
            btn.innerText = "‚ñ∂ ‡∏ï‡πà‡∏≠"; btn.className = "btn btn-primary";
            clearInterval(timerInterval);
        }
    }

    function finishStep() {
        clearInterval(timerInterval);
        isTimerRunning = false;
        if(synth) {
            const beep = new SpeechSynthesisUtterance("‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö");
            beep.lang = 'th-TH'; synth.speak(beep);
        }
        document.getElementById('timer-btn').innerText = "‚úÖ ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ß‡∏•‡∏≤";
        document.getElementById('timer-btn').className = "btn btn-success";
        document.getElementById('timer-btn').disabled = true;
        if (currentIndex === currentQueue.length - 1) { completeTracking(); }
    }

    function nextPoint() {
        clearInterval(timerInterval);
        isTimerRunning = false;
        if(synth) synth.cancel();
        if (currentIndex < currentQueue.length - 1) {
            currentIndex++; loadPoint(currentIndex);
        } else {
            completeTracking(); confirmExit();
        }
    }

    function updateTimerDisplay() {
        const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
        const s = (timeLeft % 60).toString().padStart(2, '0');
        document.getElementById('timer').innerText = `${m}:${s}`;
    }

    function toggleMusic() {
        const audio = document.getElementById('bg-music');
        const btn = document.getElementById('music-btn');
        if (isMusicPlaying) {
            audio.pause(); isMusicPlaying = false;
            btn.innerText = "üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á"; 
            btn.style.background = "rgba(255,255,255,0.2)";
        } else {
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    isMusicPlaying = true;
                    btn.innerText = "üîä ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß"; 
                    btn.style.background = "rgba(64, 145, 108, 0.6)";
                })
                .catch(error => {
                    btn.innerText = "‚ö†Ô∏è ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ";
                });
            }
        }
    }

    function confirmExit() {
        if(synth) synth.cancel();
        clearInterval(timerInterval);
        document.getElementById('bg-music').pause();
        isMusicPlaying = false; 
        document.getElementById('music-btn').innerText = "üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á";
        document.getElementById('music-btn').style.background = "rgba(255,255,255,0.2)";
        document.getElementById('session-screen').classList.remove('active');
        document.getElementById('home-screen').classList.add('active');
        loadTracking();
    }
</script>

</body>
</html>